Coming up
=========

Bugs

Improvements
TODO: administer the short url's and add newly found to the list

Site changes:
TODO: add campaign page when available

Enhancements:
TODO: add key figure for orphan pages
TODO: add key figure for wrappers that are not linked

New functionality:
TODO: retrieve usage data of pages via Matomo API to identify poor used pages
TODO: get all url's from Matomo that could be short url's and test if they are available


Releases
========
Release 3.1 (maintenance)
    - database                  v3.0
    - scraper_lib.py            v3.0.0
    - scrape_site.py            v3.0
    - bd_viauu                  v1.1
    - bd_send                   v1.2
    - bd_receive                v1.1
    Changes

Release 3.0 (1-3-2021)
    - database                  v3.0        (changed)
    - scraper_lib.py            v3.0.0      (changed)
    - scrape_site.py            v3.0
    - convert_all.py                        (new)
    - bd_viauu                  v1.1
    - bd_send                   v1.2
    - bd_receive                v1.1
    Changes
        General
            - url's with which a page is registered within IWCM are now named wcm_url's
            - scrape version now consist of three parts: major.minor.maintenance (now 3.0.0)
            - added version number for content/layout of a scrape rapport (now 1.0.0)
        Scrape method/algorithm
            - start scrape with start_urls.txt to handle short url's
            - start scrape with sitemap.xml via robots.txt
            - files that are used to start a scrape are saved (start_urls.txt, robots.txt, sitemap.xml)
            - response of external links is tested and registered
            - editorial links are registered during scraping (used to be afterwards)
            - send mail after completing a scrape
            - scraper can handle degenerated pages, even without a head
            - algorithm for categorizing wrapper pages is more robust and handles all
            - editorial links are no longer substituted to their corresponding wcm url's
        Database
            - page_id's are universal
            - new parameters in scrape database: scraper_version, scrape_type and primed_by universal_page_ids
            - scrape type can now be both monthly and weekly
            - added links table in scrape database
            - added field with link response in ed_links table
            - seq_nr field added to descriptions table in the master database to enable ordering key figures
        Reports
            - key figures have fixed order
            - added several key figures for editorial links
            - report_version and report_creation are added to the parameters sheet
            - added field for link status of editorial links (only used for external links)
        Coding
            - no separation of SQL en Python (dropped classes tot encapsulate a database and report workbook)
            - all code in one module: scraper_lib.py
            - added function to handle a complete scrape, including updating scrape_master and generate report
            - added run-file module (scrape_site.py) to enable complete scrape control via command line
            - more extensive in-line documentation to be used with pdoc
            - enhanced modular approach for post-processing a basic scrape
            - simplified some coding structures or algorithms to improve maintainability

Release 2.10 (6-1-2021)
    - database                  v2.8    (changed)
    - scraper_lib               v2.10   (changed)
    - scrape_site               v2.9    (changed)
    - update_master             v2.0    (changed/renamed from maintain_info_tables)
    - scrape_reports            v1.0    (new)
    - convert_dbv27_to_dbv28            (new)
    - bd_viauu                  v1.1
    - bd_send                   v1.2    (changed)
    - bd_receive                v1.1    (changed)
    - create_sheets                     (removed)
    - master_figures                    (removed)
    Changes
        - bug fixed in readspeaker removal from editorial text
        - text from automated content separated from editorial content
        - aut_text field with text from automated content added to scrape databases
        - create_sheets replaced by scrape_reports with enhanced functionality to generate reports for all scrapes
        - master_figures renamed to update_master, while adding functionality to gather all page history
        - adapted modules scraper_lib, create_sheets in line with changes above
        - functions master_figures and compile_history added to scraper_lib
        - writing workbooks moved from library OpenPyXL to XlsxWriter to cope better with large amounts of data
        - as consequence of above: class DataSheet removed form scraper_lib
        - looping over scrape dirs is handled with one function (from scraper_lib)
        - pruning of non-editorial tags changed from .clear() to .extract()
        - valid url test removed from scraper_lib and added to scrape_site code
        - minor naming changes in scraper_lib

Release 2.9 (5-11-2020)
    - database                  v2.7    (changed)
    - scraper_lib               v2.9    (changed)
    - scrape_site               v2.8    (changed)
    - maintain_info_tables      v1.2    (changed)
    - create_sheets             v2.10   (changed)
    - master_figures            v1.2
    - bd_viauu                  v1.1
    - bd_send                   v1.1
    - bd_receive                v1.0
    - convert_dbv26_to_dbv27            (new)
    Changes
        - links table renamed to ed_links; contents restricted to editorial links
        - ed_content field renamed to ed_text
        - new conversion module for updating existing scrape databases
        - adapted modules scraper_lib, create_sheets
        - minor changes in modules scrape_site, maintain_info_tables

Release 2.8 (4-11-2020)
    - database                  v2.6    (changed)
    - scraper_lib               v2.8    (changed)
    - scrape_site               v2.7
    - maintain_info_tables      v1.2
    - create_sheets             v2.9    (changed)
    - master_figures            v1.2
    - bd_viauu                  v1.1
    - bd_send                   v1.1    (changed)
    - bd_receive                v1.0
    - convert_dbv25_to_dbv26            (new)
    Changes
        - editorial text extraction improved
        - ed_content field added to database
        - new conversion module for updating existing scrape databases
        - adapted modules scraper_lib, create_sheets

Release 2.7 (23-10-2020)
    - database                  v2.5    (changed)
    - scraper_lib               v2.8    (changed)
    - scrape_site               v2.7
    - maintain_info_tables      v1.2
    - create_sheets             v2.8    (changed)
    - master_figures            v1.2    (changed)
    - bd_viauu                  v1.1
    - bd_send                   v1.0
    - bd_receive                v1.0
    - convert_dbv24_to_dbv25            (new)
    Changes
        - meta description field added to database
        - adapted modules scraper_lib, scrape_site, create_sheets
        - conversion module for updating existing scrape databases
        - added 3 key figures to master database: pages_dupl-title, pages_no-descr, pages_long-descr

Release 2.6 (22-10-2020)
    - database                  v2.4
    - scraper_lib               v2.7
    - scrape_site               v2.7
    - maintain_info_tables      v1.2
    - create_sheets             v2.7
    - master_figures            v1.1
    - bd_viauu                  v1.1
    - bd_send                   v1.0
    - bd_receive                v1.0
    - upgrade_dbv23_to_dbv24

Release 2.5 (14-10-2020)
    - database                  v2.3
    - scraper_lib               v2.5
    - scrape_site               v2.6
    - create_sheets             v2.5
    - key_figures               v1.0
    - recreate_info_tables      v1.0
    - upgrade_dbv22_to_dbv23

Release 2.4 (29-9-2020)
    - database                  v2.2
    - scraper_lib               v2.4
    - scrape_site               v2.5
    - create_sheets             v2.4
    - upgrade_dbv21_to_dbv22
    - add_timestamp
    - via_uu
    - bd_send
    - bd_receive
